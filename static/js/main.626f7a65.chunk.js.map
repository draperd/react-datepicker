{"version":3,"sources":["actions.js","types.js","Day.js","utils.js","Calendar.js","NumberField.js","reducer.js","DatePicker.js","App.js","index.js"],"names":["createOnDayChangedAction","type","payload","value","createOnMonthChangedAction","createOnYearChangedAction","createSelectDateAction","date","Day","props","day","available","selected","isInCurrentMonth","dayOfMonth","today","classNames","push","DatePickerContext","Consumer","context","dispatch","onClick","evt","className","join","datesAreEqual","date1","date2","getFullYear","getMonth","getDate","dateIsAvailable","earliestAllowedDate","latestAllowedDate","createDayData","currentDate","firstDateInMonth","lastDateInMonth","selectedDate","currentDateOutsideMonth","getWeekData","week","dayOfDate","getDay","Date","getTime","getFirstDateOfWeek","i","dayData","getNextDay","clonedDate","setDate","getMonthData","getFirstDateInMonth","getLastDateInMonth","weeksInMonth","nextDate","currentWeek","lastDateOfCurrentWeek","CalendarHeader","Week","days","Calendar","weeks","map","index","key","month","toLocaleString","year","nextMonth","previousMonth","nextYear","previousYear","Button","iconBefore","size","label","appearance","tabIndex","onKeyUp","event","which","previousDay","previousWeek","nextDay","nextWeek","preventDefault","stopPropagation","onCalendarKeyUpEvent","NumberField","name","onChangeCreateAction","valueAttributeInState","setInitialFocusRef","state","htmlFor","Textfield","aria-label","onChange","target","isCompact","ref","getNewProposedDateForDayChange","proposedDate","getNewProposedDateForMonthChange","getNewProposedDateForYearChange","reduceDatePartChanged","action","getNewProposedDate","inputFieldStateValue","isValid","warning","updatedProposedDate","dayInputFieldValue","monthInputFieldValue","yearInputFieldValue","reducer","pickerIsVisible","reduceHidePicker","reduceShowPicker","reduceOnDayChanged","reduceOnMonthChanged","reduceOnYearChanged","reduceSelectDate","undefined","reduceClearDate","reduceSetConstraints","React","createContext","DatePicker","id","initialState","useReducer","useRef","useEffect","previousProps","current","previousEarliestAllowedDate","previousLatestAllowedDate","displayValue","toDateString","ariaDateOptions","ariaDate","toLocaleDateString","ariaLabel","editButtonLabel","clearButtonLabel","ariaProposedDate","saveDateButtonLabel","cancelButtonLabel","dialogTitle","Provider","isOpen","onClose","placement","content","role","aria-labelledby","ButtonGroup","isDisabled","spacing","trigger","triggerProps","initialDate","inAWeek","App","useState","earliest","setEarliest","latest","setLatest","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.626f7a65.chunk.js","sourcesContent":["// @flow\nimport type {\n  CreateClearDateAction,\n  CreateHidePickerAction,\n  CreateShowPickerAction,\n  CreateOnDayChangedAction,\n  CreateOnMonthChangedAction,\n  CreateOnYearChangedAction,\n  CreateSelectDateAction,\n  CreateSetConstraintsAction\n} from \"./types\";\nimport {\n  CLEAR_DATE_ACTION,\n  HIDE_PICKER_ACTION,\n  SHOW_PICKER_ACTION,\n  ON_DAY_CHANGED_ACTION,\n  ON_MONTH_CHANGED_ACTION,\n  ON_YEAR_CHANGED_ACTION,\n  SELECT_DATE_ACTION,\n  SET_CONSTRAINTS_ACTION\n} from \"./types\";\n\nexport const createHidePickerAction: CreateHidePickerAction = () => {\n  return {\n    type: HIDE_PICKER_ACTION\n  };\n};\n\nexport const createShowPickerAction: CreateShowPickerAction = () => {\n  return {\n    type: SHOW_PICKER_ACTION\n  };\n};\n\nexport const createOnDayChangedAction: CreateOnDayChangedAction = ({\n  value\n}) => {\n  return {\n    type: ON_DAY_CHANGED_ACTION,\n    payload: {\n      value\n    }\n  };\n};\n\nexport const createOnMonthChangedAction: CreateOnMonthChangedAction = ({\n  value\n}) => {\n  return {\n    type: ON_MONTH_CHANGED_ACTION,\n    payload: {\n      value\n    }\n  };\n};\n\nexport const createOnYearChangedAction: CreateOnYearChangedAction = ({\n  value\n}) => {\n  return {\n    type: ON_YEAR_CHANGED_ACTION,\n    payload: {\n      value\n    }\n  };\n};\n\nexport const createSelectDateAction: CreateSelectDateAction = ({ date }) => {\n  return {\n    type: SELECT_DATE_ACTION,\n    payload: {\n      date\n    }\n  };\n};\n\nexport const createClearDateAction: CreateClearDateAction = () => {\n  return {\n    type: CLEAR_DATE_ACTION\n  };\n};\n\nexport const createSetConstraintsAction: CreateSetConstraintsAction = ({\n  earliestAllowedDate,\n  latestAllowedDate\n}) => {\n  return {\n    type: SET_CONSTRAINTS_ACTION,\n    payload: {\n      earliestAllowedDate,\n      latestAllowedDate\n    }\n  };\n};\n","// @flow\n\nexport const SHOW_PICKER_ACTION = \"showPicker\";\nexport const HIDE_PICKER_ACTION = \"hidePicker\";\nexport const ON_DAY_CHANGED_ACTION = \"onDayChanged\";\nexport const ON_MONTH_CHANGED_ACTION = \"onMonthChanged\";\nexport const ON_YEAR_CHANGED_ACTION = \"onYearChanged\";\nexport const SELECT_DATE_ACTION = \"selectDate\";\nexport const CLEAR_DATE_ACTION = \"clearDate\";\nexport const SET_CONSTRAINTS_ACTION = \"setConstraints\";\n\nexport type DatesAreEqual = ({ date1: Date, date2: Date }) => boolean;\nexport type DateIsBeforeFirstDateInMonth = ({\n  currentDate: Date,\n  firstDateInMonth: Date\n}) => boolean;\n\nexport type DateIsAfterLastDateInMonth = ({\n  currentDate: Date,\n  lastDateInMonth: Date\n}) => boolean;\n\nexport type DayData = {\n  dayOfMonth: number,\n  isInCurrentMonth: boolean,\n  available: boolean,\n  selected: boolean,\n  today: boolean,\n  date: Date\n};\n\nexport type CreateDayData = ({\n  currentDate: Date,\n  firstDateInMonth: Date,\n  lastDateInMonth: Date,\n  selectedDate: Date,\n  today: Date,\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n}) => DayData;\n\nexport type WeekData = {\n  [number]: DayData\n};\n\nexport type GetFirstDayOfMonth = Date => number;\nexport type GetLastDateOfPreviousMonth = Date => number;\n\nexport type DateIsAvailable = ({\n  date: Date,\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n}) => boolean;\n\nexport type GetWeekData = ({\n  date: Date,\n  firstDateInMonth: Date,\n  lastDateInMonth: Date,\n  selectedDate: Date,\n  today: Date,\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n}) => WeekData;\n\nexport type GetFirstDateOfWeek = ({ date: Date }) => Date;\n\nexport type GetFirstDateInMonth = ({ date: Date }) => Date;\nexport type GetLastDateInMonth = ({ date: Date }) => Date;\nexport type GetNextDay = ({ date: Date }) => Date;\n\nexport type GetMonthData = ({\n  date: Date,\n  today: Date,\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n}) => WeekData[];\n\nexport type OnChange = (value?: Date) => void;\n\nexport type State = {\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date,\n  pickerIsVisible: boolean,\n  isValid: boolean,\n  proposedDate: Date,\n  selectedDate?: Date,\n  dayInputFieldValue: number | \"\",\n  monthInputFieldValue: number | \"\",\n  yearInputFieldValue: number | \"\",\n  warning?: string,\n  onChange?: OnChange\n};\n\nexport type DatePickerProps = {\n  id?: string,\n  value?: Date,\n  isDisabled?: boolean, // TODO: This needs handling\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date,\n  onChange?: OnChange,\n  label?: string\n};\nexport type CalendarProps = {\n  date: Date,\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n};\n\nexport type ShowPickerAction = {\n  type: typeof SHOW_PICKER_ACTION\n};\n\nexport type HidePickerAction = {\n  type: typeof HIDE_PICKER_ACTION\n};\n\nexport type OnDayChangedAction = {\n  type: typeof ON_DAY_CHANGED_ACTION,\n  payload: {\n    value: number\n  }\n};\nexport type OnMonthChangedAction = {\n  type: typeof ON_MONTH_CHANGED_ACTION,\n  payload: {\n    value: number\n  }\n};\nexport type OnYearChangedAction = {\n  type: typeof ON_YEAR_CHANGED_ACTION,\n  payload: {\n    value: number\n  }\n};\nexport type SelectDateAction = {\n  type: typeof SELECT_DATE_ACTION,\n  payload: {\n    date: Date\n  }\n};\n\nexport type SetConstraintsAction = {\n  type: typeof SET_CONSTRAINTS_ACTION,\n  payload: {\n    earliestAllowedDate?: Date,\n    latestAllowedDate?: Date\n  }\n};\n\nexport type ClearDateAction = {\n  type: typeof CLEAR_DATE_ACTION\n};\n\nexport type CreateShowPickerAction = () => ShowPickerAction;\nexport type CreateHidePickerAction = () => HidePickerAction;\nexport type CreateOnDayChangedAction = ({\n  value: number\n}) => OnDayChangedAction;\nexport type CreateOnMonthChangedAction = ({\n  value: number\n}) => OnMonthChangedAction;\nexport type CreateOnYearChangedAction = ({\n  value: number\n}) => OnYearChangedAction;\nexport type CreateSelectDateAction = ({ date: Date }) => SelectDateAction;\nexport type CreateClearDateAction = () => ClearDateAction;\nexport type CreateSetConstraintsAction = ({\n  earliestAllowedDate?: Date,\n  latestAllowedDate?: Date\n}) => SetConstraintsAction;\n\nexport type OnChangeCreateAction =\n  | CreateOnDayChangedAction\n  | CreateOnMonthChangedAction\n  | CreateOnYearChangedAction;\nexport type InputFieldStateValue =\n  | \"dayInputFieldValue\"\n  | \"monthInputFieldValue\"\n  | \"yearInputFieldValue\";\n\nexport type Action =\n  | HidePickerAction\n  | ShowPickerAction\n  | OnDayChangedAction\n  | OnMonthChangedAction\n  | OnYearChangedAction\n  | SelectDateAction\n  | ClearDateAction\n  | SetConstraintsAction;\n\nexport type DispatchAction = Action => void;\n\nexport type ContextType = {\n  dispatch: DispatchAction,\n  state: State\n};\n\nexport type CreateContext = ({\n  state: State,\n  dispatch: DispatchAction\n}) => ContextType;\n\nexport type GetNewProposedDate = ({\n  proposedDate: Date,\n  value: number\n}) => Date;\n\nexport type ReduceDatePartChanged = ({\n  state: State,\n  action: OnDayChangedAction | OnMonthChangedAction | OnYearChangedAction,\n  getNewProposedDate: GetNewProposedDate,\n  inputFieldStateValue: InputFieldStateValue\n}) => State;\n\nexport type ReduceOnDayChanged = ({\n  state: State,\n  action: OnDayChangedAction\n}) => State;\n\nexport type ReduceOnMonthChanged = ({\n  state: State,\n  action: OnMonthChangedAction\n}) => State;\n\nexport type ReduceOnYearChanged = ({\n  state: State,\n  action: OnYearChangedAction\n}) => State;\n\nexport type ReduceHidePicker = ({\n  state: State,\n  action: HidePickerAction\n}) => State;\n\nexport type ReduceShowPicker = ({\n  state: State,\n  action: ShowPickerAction\n}) => State;\n\nexport type ReduceSelectDate = ({\n  state: State,\n  action: SelectDateAction\n}) => State;\n\nexport type ReduceClearDate = ({\n  state: State,\n  action: ClearDateAction\n}) => State;\n\nexport type ReduceSetConstraints = ({\n  state: State,\n  action: SetConstraintsAction\n}) => State;\n","// @flow\n\nimport React from \"react\";\nimport { DatePickerContext } from \"./DatePicker\";\nimport { createSelectDateAction } from \"./actions\";\nimport type { DayData } from \"./types\";\nimport \"./Day.css\";\n\nexport type DayProps = {\n  day: DayData\n};\n\nexport default function Day(props: DayProps) {\n  const { day } = props;\n  const {\n    available,\n    selected,\n    isInCurrentMonth,\n    dayOfMonth,\n    date,\n    today\n  } = day;\n\n  const classNames = [];\n  if (selected) {\n    classNames.push(\"selected\");\n  }\n  if (isInCurrentMonth) {\n    classNames.push(\"isInCurrentMonth\");\n  }\n  if (today) {\n    classNames.push(\"today\");\n  }\n  if (!available) {\n    classNames.push(\"unavailable\");\n  }\n\n  return (\n    <DatePickerContext.Consumer>\n      {context => {\n        const { dispatch } = context;\n        return (\n          <td\n            onClick={evt =>\n              available && dispatch(createSelectDateAction({ date }))\n            }\n          >\n            <div className={classNames.join(\" \")}>{dayOfMonth}</div>\n          </td>\n        );\n      }}\n    </DatePickerContext.Consumer>\n  );\n}\n","// @flow\n\nimport type {\n  CreateDayData,\n  DatesAreEqual,\n  DateIsAvailable,\n  DateIsBeforeFirstDateInMonth,\n  DateIsAfterLastDateInMonth,\n  DayData,\n  GetFirstDateOfWeek,\n  GetWeekData,\n  GetNextDay,\n  GetFirstDateInMonth,\n  GetLastDateInMonth,\n  GetMonthData,\n  WeekData\n} from \"./types\";\n\nexport const oneDayInMilliseconds = 60 * 60 * 24 * 1000;\n\nexport const getFirstDateOfWeek: GetFirstDateOfWeek = ({ date }) => {\n  const dayOfDate = date.getDay();\n  return new Date(date.getTime() - dayOfDate * oneDayInMilliseconds);\n};\n\nexport const dateIsBeforeFirstDateInMonth: DateIsBeforeFirstDateInMonth = ({\n  currentDate,\n  firstDateInMonth\n}) => {\n  return currentDate < firstDateInMonth;\n};\n\nexport const dateIsAfterLastDateInMonth: DateIsAfterLastDateInMonth = ({\n  currentDate,\n  lastDateInMonth\n}) => {\n  return currentDate > lastDateInMonth;\n};\n\nexport const datesAreEqual: DatesAreEqual = ({ date1, date2 }) => {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n};\n\nexport const dateIsAvailable: DateIsAvailable = ({\n  date,\n  earliestAllowedDate,\n  latestAllowedDate\n}) => {\n  if (earliestAllowedDate && earliestAllowedDate > date) {\n    return false;\n  }\n  if (latestAllowedDate && latestAllowedDate < date) {\n    return false;\n  }\n  return true;\n};\n\nexport const createDayData: CreateDayData = ({\n  currentDate,\n  firstDateInMonth,\n  lastDateInMonth,\n  selectedDate,\n  today,\n  earliestAllowedDate,\n  latestAllowedDate\n}) => {\n  const currentDateOutsideMonth =\n    dateIsBeforeFirstDateInMonth({ currentDate, firstDateInMonth }) ||\n    dateIsAfterLastDateInMonth({ currentDate, lastDateInMonth });\n\n  const dayData: DayData = {\n    dayOfMonth: currentDate.getDate(),\n    isInCurrentMonth: !currentDateOutsideMonth,\n    available: dateIsAvailable({\n      date: currentDate,\n      earliestAllowedDate,\n      latestAllowedDate\n    }),\n    selected: datesAreEqual({ date1: currentDate, date2: selectedDate }),\n    today: datesAreEqual({ date1: currentDate, date2: today }),\n    date: currentDate\n  };\n\n  return dayData;\n};\n\nexport const getWeekData: GetWeekData = ({\n  date,\n  firstDateInMonth,\n  lastDateInMonth,\n  selectedDate,\n  today,\n  earliestAllowedDate,\n  latestAllowedDate\n}) => {\n  const firstDateInWeek = getFirstDateOfWeek({ date });\n\n  const week = {};\n\n  let currentDate = firstDateInWeek;\n  for (let i = 0; i < 7; i++) {\n    const dayData = createDayData({\n      currentDate,\n      firstDateInMonth,\n      lastDateInMonth,\n      selectedDate,\n      today,\n      earliestAllowedDate,\n      latestAllowedDate\n    });\n\n    const day = dayData.date.getDay();\n    week[day] = dayData;\n    currentDate = getNextDay({ date: currentDate });\n  }\n\n  return week;\n};\n\nexport const getNextDay: GetNextDay = ({ date }) => {\n  const clonedDate = new Date(date.getTime());\n  clonedDate.setDate(date.getDate() + 1);\n  return clonedDate;\n};\n\nexport const getFirstDateInMonth: GetFirstDateInMonth = ({ date }) => {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n};\n\nexport const getLastDateInMonth: GetLastDateInMonth = ({ date }) => {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n};\n\nexport const getMonthData: GetMonthData = ({\n  date,\n  today,\n  earliestAllowedDate,\n  latestAllowedDate\n}) => {\n  const firstDateInMonth = getFirstDateInMonth({ date });\n  const lastDateInMonth = getLastDateInMonth({ date });\n\n  const weeksInMonth: WeekData[] = [];\n\n  let nextDate = firstDateInMonth;\n  do {\n    let currentWeek = getWeekData({\n      date: nextDate,\n      firstDateInMonth,\n      lastDateInMonth,\n      selectedDate: date,\n      today,\n      earliestAllowedDate,\n      latestAllowedDate\n    });\n    weeksInMonth.push(currentWeek);\n\n    let lastDateOfCurrentWeek = currentWeek[6].date;\n    nextDate = getNextDay({ date: lastDateOfCurrentWeek });\n  } while (nextDate < lastDateInMonth);\n\n  return weeksInMonth;\n};\n","// @flow\n\nimport React from \"react\";\nimport Button from \"@atlaskit/button\";\nimport ChevronRightIcon from \"@atlaskit/icon/glyph/chevron-right\";\nimport ChevronLeftIcon from \"@atlaskit/icon/glyph/chevron-left\";\nimport ChevronRightLargeIcon from \"@atlaskit/icon/glyph/chevron-right-large\";\nimport ChevronLeftLargeIcon from \"@atlaskit/icon/glyph/chevron-left-large\";\nimport { DatePickerContext } from \"./DatePicker\";\nimport Day from \"./Day\";\nimport {\n  createOnMonthChangedAction,\n  createOnYearChangedAction,\n  createOnDayChangedAction,\n  createSelectDateAction\n} from \"./actions\";\nimport { getMonthData } from \"./utils\";\nimport type { CalendarProps, WeekData, DispatchAction } from \"./types\";\nimport \"./Calendar.css\";\n\nfunction CalendarHeader() {\n  return (\n    <thead>\n      <tr>\n        <th>SUN</th>\n        <th>MON</th>\n        <th>TUE</th>\n        <th>WED</th>\n        <th>THU</th>\n        <th>FRI</th>\n        <th>SAT</th>\n      </tr>\n    </thead>\n  );\n}\n\nexport type WeekProps = {\n  days: WeekData\n};\n\nfunction Week(props: WeekProps) {\n  const { days } = props;\n\n  return (\n    <tr>\n      <Day day={days[0]} />\n      <Day day={days[1]} />\n      <Day day={days[2]} />\n      <Day day={days[3]} />\n      <Day day={days[4]} />\n      <Day day={days[5]} />\n      <Day day={days[6]} />\n    </tr>\n  );\n}\n\nexport type OnCalendarKeyUpEvent = ({\n  event: SyntheticKeyboardEvent<EventTarget>,\n  dispatch: DispatchAction,\n  date: Date\n}) => void;\n\nexport const onCalendarKeyUpEvent: OnCalendarKeyUpEvent = ({\n  event,\n  dispatch,\n  date\n}) => {\n  const keyCode = event.which;\n  switch (keyCode) {\n    case 13: {\n      dispatch(createSelectDateAction({ date }));\n\n      break;\n    }\n    case 37: {\n      const previousDay = date.getDate() - 1;\n      dispatch(createOnDayChangedAction({ value: previousDay }));\n      break;\n    }\n    case 38: {\n      const previousWeek = date.getDate() - 7;\n      dispatch(createOnDayChangedAction({ value: previousWeek }));\n      break;\n    }\n    case 39: {\n      const nextDay = date.getDate() + 1;\n      dispatch(createOnDayChangedAction({ value: nextDay }));\n      break;\n    }\n    case 40: {\n      const nextWeek = date.getDate() + 7;\n      dispatch(createOnDayChangedAction({ value: nextWeek }));\n      break;\n    }\n    default: {\n      // Return for all other cases so as not to call preventDefault and\n      // stopPropogation on the event...\n      return;\n    }\n  }\n\n  // We're going to stop further handling of keyup events if it was a key we've handled\n  event.preventDefault();\n  event.stopPropagation();\n};\n\nexport default function Calendar(props: CalendarProps) {\n  const { date, earliestAllowedDate, latestAllowedDate } = props;\n  const today = new Date();\n  const weeksInMonth = getMonthData({\n    date,\n    today,\n    earliestAllowedDate,\n    latestAllowedDate\n  });\n  const weeks = weeksInMonth.map((week, index) => (\n    <Week key={`week_${index}`} days={week} />\n  ));\n\n  const month = date.toLocaleString(\"default\", { month: \"long\" });\n  const year = date.getFullYear();\n\n  // NOTE: Months are zero-indexed, but the month field is not hence adding 2 and not substracting anything!\n  const nextMonth = date.getMonth() + 2;\n  const previousMonth = date.getMonth();\n  const nextYear = date.getFullYear() + 1;\n  const previousYear = date.getFullYear() - 1;\n\n  // TODO: Would this be better if the button label said what the previous/next month/year would be on click?\n  const previousYearLabel = `Previous year`;\n  const prevousMonthLabel = `Previous month`;\n  const nextMonthLabel = `Next month`;\n  const nextYearLabel = `Next year`;\n\n  return (\n    <DatePickerContext.Consumer>\n      {context => {\n        const { dispatch } = context;\n        return (\n          <div className=\"calendar\">\n            <div className=\"monthDisplay\">\n              <Button\n                iconBefore={\n                  <ChevronLeftLargeIcon\n                    size=\"small\"\n                    label={previousYearLabel}\n                  />\n                }\n                appearance=\"subtle\"\n                onClick={evt =>\n                  dispatch(createOnYearChangedAction({ value: previousYear }))\n                }\n              />\n              <Button\n                iconBefore={\n                  <ChevronLeftIcon size=\"small\" label={prevousMonthLabel} />\n                }\n                appearance=\"subtle\"\n                onClick={evt =>\n                  dispatch(createOnMonthChangedAction({ value: previousMonth }))\n                }\n              />\n              <span>\n                {month} {year}\n              </span>\n\n              <Button\n                iconBefore={\n                  <ChevronRightIcon size=\"small\" label={nextMonthLabel} />\n                }\n                appearance=\"subtle\"\n                onClick={evt =>\n                  dispatch(createOnMonthChangedAction({ value: nextMonth }))\n                }\n              />\n              <Button\n                iconBefore={\n                  <ChevronRightLargeIcon size=\"small\" label={nextYearLabel} />\n                }\n                appearance=\"subtle\"\n                onClick={evt =>\n                  dispatch(createOnYearChangedAction({ value: nextYear }))\n                }\n              />\n            </div>\n            <div\n              tabIndex=\"0\"\n              onKeyUp={event => onCalendarKeyUpEvent({ event, dispatch, date })}\n            >\n              {/* TODO: Could we put invisible instructions here for screenreaders on using cursor keys and what the value is?\n                        - set an aria role?*/}\n              <table className=\"week\">\n                <CalendarHeader />\n                <tbody>{weeks}</tbody>\n              </table>\n            </div>\n          </div>\n        );\n      }}\n    </DatePickerContext.Consumer>\n  );\n}\n","// @flow\nimport React from \"react\";\nimport Textfield from \"@atlaskit/textfield\";\nimport { DatePickerContext } from \"./DatePicker\";\nimport type { InputFieldStateValue, OnChangeCreateAction } from \"./types\";\nimport \"./NumberField.css\";\n\ntype SetInitialFocusRef = (ref: any) => void;\n\nexport type NumberFieldProps = {\n  label: string,\n  name: string,\n  onChangeCreateAction: OnChangeCreateAction,\n  valueAttributeInState: InputFieldStateValue,\n  setInitialFocusRef?: SetInitialFocusRef\n};\nexport default function NumberField(props: NumberFieldProps) {\n  const {\n    label,\n    name,\n    onChangeCreateAction,\n    valueAttributeInState,\n    setInitialFocusRef\n  } = props;\n  return (\n    <DatePickerContext.Consumer>\n      {context => {\n        const { state, dispatch } = context;\n        return (\n          <div className=\"number\">\n            <label htmlFor={name}>{label}</label>\n            <Textfield\n              aria-label={label}\n              name={name}\n              type=\"number\"\n              value={state[valueAttributeInState]}\n              onChange={evt =>\n                dispatch(onChangeCreateAction({ value: evt.target.value }))\n              }\n              isCompact\n              ref={ref => setInitialFocusRef && setInitialFocusRef(ref)}\n            />\n          </div>\n        );\n      }}\n    </DatePickerContext.Consumer>\n  );\n}\n","// @flow\nimport { dateIsAvailable } from \"./utils\";\nimport type {\n  Action,\n  GetNewProposedDate,\n  ReduceHidePicker,\n  ReduceShowPicker,\n  ReduceDatePartChanged,\n  ReduceOnDayChanged,\n  ReduceOnMonthChanged,\n  ReduceOnYearChanged,\n  ReduceSelectDate,\n  ReduceClearDate,\n  ReduceSetConstraints,\n  State\n} from \"./types\";\nimport {\n  CLEAR_DATE_ACTION,\n  HIDE_PICKER_ACTION,\n  SHOW_PICKER_ACTION,\n  ON_DAY_CHANGED_ACTION,\n  ON_MONTH_CHANGED_ACTION,\n  ON_YEAR_CHANGED_ACTION,\n  SELECT_DATE_ACTION,\n  SET_CONSTRAINTS_ACTION\n} from \"./types\";\n\nexport const getNewProposedDateForDayChange: GetNewProposedDate = ({\n  proposedDate,\n  value\n}) => {\n  return new Date(proposedDate.getFullYear(), proposedDate.getMonth(), value);\n};\n\nexport const getNewProposedDateForMonthChange: GetNewProposedDate = ({\n  proposedDate,\n  value\n}) => {\n  return new Date(\n    proposedDate.getFullYear(),\n    value - 1,\n    proposedDate.getDate()\n  );\n};\n\nexport const getNewProposedDateForYearChange: GetNewProposedDate = ({\n  proposedDate,\n  value\n}) => {\n  return new Date(value, proposedDate.getMonth(), proposedDate.getDate());\n};\n\nconst reduceDatePartChanged: ReduceDatePartChanged = ({\n  state,\n  action,\n  getNewProposedDate,\n  inputFieldStateValue\n}) => {\n  const { proposedDate, earliestAllowedDate, latestAllowedDate } = state;\n  let {\n    payload: { value }\n  } = action;\n\n  // TODO: Ideally need to do a better job handling strange characters:\n  //       - ignore zeros\n  //       - could we always have 2 character day and month? (with leading zeroes)\n  if (value === \"\") {\n    return {\n      ...state,\n      isValid: false,\n      warning: \"You need to provide a full date\",\n      [inputFieldStateValue]: value\n    };\n  }\n\n  const updatedProposedDate = getNewProposedDate({ proposedDate, value });\n\n  if (\n    !dateIsAvailable({\n      date: updatedProposedDate,\n      earliestAllowedDate,\n      latestAllowedDate\n    })\n  ) {\n    return {\n      ...state,\n      isValid: false,\n      warning: \"You need to select a date within the allowed range\",\n      proposedDate: updatedProposedDate,\n      dayInputFieldValue: updatedProposedDate.getDate(),\n      monthInputFieldValue: updatedProposedDate.getMonth() + 1,\n      yearInputFieldValue: updatedProposedDate.getFullYear()\n    };\n  }\n\n  return {\n    ...state,\n    isValid: true,\n    warning: \"\",\n    proposedDate: updatedProposedDate,\n    dayInputFieldValue: updatedProposedDate.getDate(),\n    monthInputFieldValue: updatedProposedDate.getMonth() + 1,\n    yearInputFieldValue: updatedProposedDate.getFullYear()\n  };\n};\n\nconst reduceOnDayChanged: ReduceOnDayChanged = ({ state, action }) => {\n  return reduceDatePartChanged({\n    state,\n    action,\n    getNewProposedDate: getNewProposedDateForDayChange,\n    inputFieldStateValue: \"dayInputFieldValue\"\n  });\n};\n\nconst reduceOnMonthChanged: ReduceOnMonthChanged = ({ state, action }) => {\n  return reduceDatePartChanged({\n    state,\n    action,\n    getNewProposedDate: getNewProposedDateForMonthChange,\n    inputFieldStateValue: \"monthInputFieldValue\"\n  });\n};\n\nconst reduceOnYearChanged: ReduceOnYearChanged = ({ state, action }) => {\n  let {\n    payload: { value }\n  } = action;\n  if (value === \"\" || value < 1000) {\n    return {\n      ...state,\n      isValid: false,\n      warning: \"You need to provide a full date\",\n      yearInputFieldValue: value\n    };\n  }\n  return reduceDatePartChanged({\n    state,\n    action,\n    getNewProposedDate: getNewProposedDateForYearChange,\n    inputFieldStateValue: \"yearInputFieldValue\"\n  });\n};\n\nconst reduceHidePicker: ReduceHidePicker = ({ state, action }) => {\n  const { isValid, proposedDate } = state;\n\n  if (!isValid) {\n    // If the picker isn't in a valid date when it's closed we need to ensure that\n    // it's reset. The proposed date should still be a valid date because it only gets\n    // updated when valid input is provided. It's important to reset validity and\n    // clear warnings and get back to a healthy state\n    return {\n      ...state,\n      proposedDate,\n      isValid: true,\n      warning: \"\",\n      pickerIsVisible: false,\n      dayInputFieldValue: proposedDate.getDate(),\n      monthInputFieldValue: proposedDate.getMonth() + 1,\n      yearInputFieldValue: proposedDate.getFullYear()\n    };\n  }\n\n  return {\n    ...state,\n    pickerIsVisible: false\n  };\n};\n\nconst reduceShowPicker: ReduceShowPicker = ({ state, action }) => {\n  return {\n    ...state,\n    pickerIsVisible: true\n  };\n};\n\nconst reduceSelectDate: ReduceSelectDate = ({ state, action }) => {\n  let {\n    payload: { date }\n  } = action;\n  const { earliestAllowedDate, latestAllowedDate } = state;\n\n  // Don't allow dates to be set if they are unavailable!\n  if (\n    !dateIsAvailable({\n      date,\n      earliestAllowedDate,\n      latestAllowedDate\n    })\n  ) {\n    return state;\n  }\n\n  const { onChange } = state;\n  if (onChange && typeof onChange === \"function\") {\n    onChange(date);\n  }\n\n  return {\n    ...state,\n    pickerIsVisible: false,\n    warning: \"\",\n    isValid: true,\n    selectedDate: date,\n    proposedDate: date,\n    dayInputFieldValue: date.getDate(),\n    monthInputFieldValue: date.getMonth() + 1,\n    yearInputFieldValue: date.getFullYear()\n  };\n};\n\nconst reduceClearDate: ReduceClearDate = ({ state, action }) => {\n  // It is important to call the onChange callback on clearing as well as setting...\n  const { onChange } = state;\n  if (onChange && typeof onChange === \"function\") {\n    onChange(undefined);\n  }\n\n  const date = new Date();\n  return {\n    ...state,\n    pickerIsVisible: false,\n    selectedDate: undefined,\n    proposedDate: date,\n    dayInputFieldValue: date.getDate(),\n    monthInputFieldValue: date.getMonth() + 1,\n    yearInputFieldValue: date.getFullYear()\n  };\n};\n\nexport const reduceSetConstraints: ReduceSetConstraints = ({\n  state,\n  action\n}) => {\n  // TODO: There is a potential issue here if the constraint makes the selected date invalid !\n  //       - One option would be to just bring the date within the constraint\n  const {\n    payload: { earliestAllowedDate, latestAllowedDate }\n  } = action;\n  return {\n    ...state,\n    earliestAllowedDate,\n    latestAllowedDate\n  };\n};\n\nexport function reducer(state: State, action: Action) {\n  switch (action.type) {\n    case HIDE_PICKER_ACTION: {\n      return reduceHidePicker({ state, action });\n    }\n    case SHOW_PICKER_ACTION: {\n      return reduceShowPicker({ state, action });\n    }\n    case ON_DAY_CHANGED_ACTION: {\n      return reduceOnDayChanged({ state, action });\n    }\n    case ON_MONTH_CHANGED_ACTION: {\n      return reduceOnMonthChanged({ state, action });\n    }\n    case ON_YEAR_CHANGED_ACTION: {\n      return reduceOnYearChanged({ state, action });\n    }\n    case SELECT_DATE_ACTION: {\n      return reduceSelectDate({ state, action });\n    }\n    case CLEAR_DATE_ACTION: {\n      return reduceClearDate({ state, action });\n    }\n    case SET_CONSTRAINTS_ACTION: {\n      return reduceSetConstraints({ state, action });\n    }\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport React, { useReducer, useEffect, useRef } from \"react\";\nimport Popup from \"@atlaskit/popup\";\nimport Button, { ButtonGroup } from \"@atlaskit/button\";\nimport EditorEditIcon from \"@atlaskit/icon/glyph/editor/edit\";\nimport EditorDoneIcon from \"@atlaskit/icon/glyph/editor/done\";\nimport EditorCloseIcon from \"@atlaskit/icon/glyph/editor/close\";\nimport EditorRemoveIcon from \"@atlaskit/icon/glyph/editor/remove\";\nimport Calendar from \"./Calendar\";\nimport NumberField from \"./NumberField\";\nimport { reducer } from \"./reducer\";\nimport {\n  createClearDateAction,\n  createShowPickerAction,\n  createHidePickerAction,\n  createOnDayChangedAction,\n  createOnMonthChangedAction,\n  createOnYearChangedAction,\n  createSelectDateAction,\n  createSetConstraintsAction\n} from \"./actions\";\nimport type { CreateContext, DatePickerProps, State } from \"./types\";\nimport \"./DatePicker.css\";\n\n// $FlowFixMe\nexport const DatePickerContext = React.createContext();\n\nexport const createContext: CreateContext = ({ state, dispatch }) => ({\n  state,\n  dispatch\n});\n\nexport default function DatePicker(props: DatePickerProps) {\n  const {\n    id,\n    value,\n    earliestAllowedDate,\n    latestAllowedDate,\n    onChange,\n    label = \"date picker\"\n  } = props;\n\n  const proposedDate = value || new Date(); // Default to today when there is no value provided\n\n  const dayInputFieldValue = proposedDate.getDate();\n  const monthInputFieldValue = proposedDate.getMonth() + 1; // Need to add 1 to move from 0 indexed months\n  const yearInputFieldValue = proposedDate.getFullYear();\n\n  const initialState: State = {\n    isValid: true,\n    pickerIsVisible: false,\n    selectedDate: value, // This could legitimately be undefined when no date is set\n    proposedDate,\n    dayInputFieldValue,\n    monthInputFieldValue,\n    yearInputFieldValue,\n    earliestAllowedDate,\n    latestAllowedDate,\n    onChange\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const context = createContext({ state, dispatch });\n\n  // This is an attempt to track changing in prop value, to update the selected date...\n  // However, this updates on each render and we need to be able to process more than once\n  const ref = useRef();\n  useEffect(() => {\n    const previousProps = ref.current;\n    if (previousProps) {\n      if (previousProps.value !== value) {\n        if (value) {\n          dispatch(createSelectDateAction({ date: value }));\n        } else {\n          dispatch(createClearDateAction());\n        }\n      }\n\n      const {\n        earliestAllowedDate: previousEarliestAllowedDate,\n        latestAllowedDate: previousLatestAllowedDate\n      } = previousProps;\n      if (\n        previousEarliestAllowedDate !== earliestAllowedDate ||\n        previousLatestAllowedDate !== latestAllowedDate\n      ) {\n        dispatch(\n          createSetConstraintsAction({\n            earliestAllowedDate,\n            latestAllowedDate\n          })\n        );\n      }\n    }\n    // TODO: Can only set a value via props once, because the prop isn't changing\n    ref.current = props;\n  });\n\n  const displayValue = state.selectedDate\n    ? state.selectedDate.toDateString()\n    : \"\";\n\n  /* The following section is very much a work in progress experimenting with good messages for accessibility, this\n     needs to be refactored into more suitable functions for clarity / code cleanliness */\n  const locale = undefined;\n  const ariaDateOptions = {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\"\n  };\n  const ariaDate = state.selectedDate\n    ? state.selectedDate.toLocaleDateString(locale, ariaDateOptions)\n    : \"\";\n\n  const ariaLabel =\n    label + (ariaDate === \"\" ? \" with no date\" : ` with date ${ariaDate}`);\n\n  const editButtonLabel = `Edit date of ${label}`;\n  const clearButtonLabel = `Clear date for ${label}`;\n\n  const ariaProposedDate = state.proposedDate\n    ? state.proposedDate.toLocaleDateString(locale, ariaDateOptions)\n    : \"\";\n\n  const saveDateButtonLabel = ariaProposedDate\n    ? `Save the date ${ariaProposedDate} for ${label}`\n    : \"Cannot save date\";\n  const cancelButtonLabel = `Abandon editing date for ${label}`;\n\n  const dialogTitle = `${id || \"\"}-dialog-title`;\n\n  return (\n    <DatePickerContext.Provider value={context}>\n      <Popup\n        isOpen={state.pickerIsVisible}\n        onClose={() => dispatch(createHidePickerAction())}\n        placement=\"bottom-start\"\n        content={({ setInitialFocusRef }) => (\n          <div role=\"dialog\" className=\"main\" aria-labelledby={dialogTitle}>\n            <h2 id={dialogTitle}>Select a date for {label}</h2>\n            <div className=\"picker\">\n              <div className=\"input-row\">\n                <NumberField\n                  label=\"Day\"\n                  name=\"day\"\n                  onChangeCreateAction={createOnDayChangedAction}\n                  valueAttributeInState=\"dayInputFieldValue\"\n                  setInitialFocusRef={setInitialFocusRef}\n                />\n                <NumberField\n                  label=\"Month\"\n                  name=\"month\"\n                  onChangeCreateAction={createOnMonthChangedAction}\n                  valueAttributeInState=\"monthInputFieldValue\"\n                />\n                <NumberField\n                  label=\"Year\"\n                  name=\"year\"\n                  onChangeCreateAction={createOnYearChangedAction}\n                  valueAttributeInState=\"yearInputFieldValue\"\n                />\n                <ButtonGroup>\n                  <Button\n                    iconBefore={\n                      <EditorDoneIcon\n                        size=\"small\"\n                        label={saveDateButtonLabel}\n                      />\n                    }\n                    appearance=\"subtle\"\n                    isDisabled={!state.isValid}\n                    onClick={evt =>\n                      dispatch(\n                        createSelectDateAction({ date: state.proposedDate })\n                      )\n                    }\n                    spacing=\"compact\"\n                  ></Button>\n                  <Button\n                    iconBefore={\n                      <EditorCloseIcon size=\"small\" label={cancelButtonLabel} />\n                    }\n                    appearance=\"subtle\"\n                    onClick={evt => dispatch(createHidePickerAction())}\n                    spacing=\"compact\"\n                  />\n                </ButtonGroup>\n              </div>\n              <Calendar\n                date={state.proposedDate}\n                earliestAllowedDate={state.earliestAllowedDate}\n                latestAllowedDate={state.latestAllowedDate}\n              />\n              {state.warning && (\n                <div className=\"warnings\">\n                  <span>{state.warning}</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        trigger={triggerProps => (\n          <div id={id} className=\"display\" {...triggerProps}>\n            <span\n              onClick={evt => dispatch(createShowPickerAction())}\n              tabIndex=\"0\"\n              aria-label={ariaLabel}\n            >\n              {displayValue}\n            </span>\n            <ButtonGroup>\n              <Button\n                iconBefore={\n                  <EditorEditIcon size=\"small\" label={editButtonLabel} />\n                }\n                isDisabled={!state.isValid}\n                onClick={evt => dispatch(createShowPickerAction())}\n                spacing=\"compact\"\n              />\n              <Button\n                iconBefore={\n                  <EditorRemoveIcon size=\"small\" label={clearButtonLabel} />\n                }\n                onClick={evt => dispatch(createClearDateAction())}\n                spacing=\"compact\"\n              />\n            </ButtonGroup>\n          </div>\n        )}\n      />\n    </DatePickerContext.Provider>\n  );\n}\n","// @flow\nimport React, { useState } from \"react\";\nimport DatePicker from \"./DatePicker\";\nimport \"./App.css\";\n\nconst initialDate = new Date();\nconst earliestAllowedDate = new Date();\nearliestAllowedDate.setDate(initialDate.getDate() - 45);\nconst latestAllowedDate = new Date();\nlatestAllowedDate.setDate(initialDate.getDate() + 45);\n\nconst inAWeek = new Date();\ninAWeek.setDate(initialDate.getDate() + 7);\n\nfunction App() {\n  const [date, setDate] = useState(initialDate);\n\n  const [earliest, setEarliest] = useState();\n  const [latest, setLatest] = useState();\n\n  return (\n    <div className=\"app\">\n      <h1>React Date Picker Examples</h1>\n      <p>\n        This page contains some examples of the React Date Picker with various\n        configurations.\n      </p>\n\n      <section>\n        <h4>No initial value, no constraints</h4>\n        <p>\n          This is an example picker with no initial value and no constraints\n        </p>\n        <label htmlFor=\"example1\">Example date 1</label>\n        <DatePicker id=\"example1\" label=\"Example date 1\" />\n      </section>\n\n      <section>\n        <h4>Today with constraints</h4>\n        <p>\n          This is an example picker that is set to today and contrained to\n          within 45 days before and after today. Use the button to set the date\n          by passing a new prop to the picker.\n        </p>\n        <button type=\"button\" onClick={() => setDate(inAWeek)}>\n          Set the date to a week from now\n        </button>\n        <p></p>\n        <label htmlFor=\"example2\">Example date 2</label>\n        <DatePicker\n          id=\"example2\"\n          label=\"Example date two\"\n          value={date}\n          earliestAllowedDate={earliestAllowedDate}\n          latestAllowedDate={latestAllowedDate}\n          onChange={date => setDate(date)}\n        />\n      </section>\n\n      <section>\n        <h4>Setting a date range</h4>\n        <p>\n          This example shows two date pickers used together to allow a date\n          range to be set. When you set a date in the \"From\" date picker it will\n          set a latest date constraint on the \"To\" picker (and vice versa).\n        </p>\n        <div className=\"range\">\n          <label htmlFor=\"from\">From</label>\n          <DatePicker\n            id=\"from\"\n            latestAllowedDate={latest}\n            onChange={date => setEarliest(date)}\n          />\n          <label htmlFor=\"to\">To</label>\n          <DatePicker\n            id=\"to\"\n            earliestAllowedDate={earliest}\n            onChange={date => setLatest(date)}\n          />\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}